<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LinkedIn Autofill Google Form</title>
    <script src="https://www.linkedin.com/autofill/js/autofill.js" type="text/javascript" async></script>
    <script type="text/javascript">
        _linkedin_partner_id = "6343332";
        window._linkedin_data_partner_ids = window._linkedin_data_partner_ids || [];
        window._linkedin_data_partner_ids.push(_linkedin_partner_id);
    </script>
    <script type="text/javascript">
        (function(l) {
            if (!l){window.lintrk = function(a,b){window.lintrk.q.push([a,b])};
            window.lintrk.q=[]}
            var s = document.getElementsByTagName("script")[0];
            var b = document.createElement("script");
            b.type = "text/javascript";b.async = true;
            b.src = "https://snap.licdn.com/li.lms-analytics/insight.min.js";
            s.parentNode.insertBefore(b, s);})(window.lintrk);
    </script>
    <noscript>
        <img height="1" width="1" style="display:none;" alt="" src="https://px.ads.linkedin.com/collect/?pid=6343332&fmt=gif" />
    </noscript>
</head>
<body>
    <h1>Senior Applicant Form</h1>
    
    <!-- Embed the Google Form -->
    <iframe id="googleFormFrame" src="https://docs.google.com/forms/d/e/1FAIpQLSclnMP_PVlMMtLrh_-z8hYVEx7tf3fClyYc2rE8HcPdb7YytA/viewform?embedded=true" width="640" height="3882" frameborder="0" marginheight="0" marginwidth="0">Loadingâ€¦</iframe>

    <!-- LinkedIn AutoFill Script -->
    <script type="IN/Form2"
        data-form="googleForm"
        data-field-firstname="entry.2040390134"
        data-field-lastname="entry.751070818"
        data-field-phone="entry.75719352"
        data-field-email="entry.1334512619"
        data-field-company="entry.483036053"
        data-field-title="entry.253197169"
        data-field-city="entry.2132475902"
        data-field-state="entry.474494225"
        data-field-country="entry.472727457"
        data-field-zip="entry.901234567">
    </script>

    <script>
        // Adjust these IDs based on your form's field IDs
        const fieldMapping = {
            'firstnameFieldId': 'entry.2040390134', // Replace with actual field ID from your Google Form
            'lastnameFieldId': 'entry.751070818', // Replace with actual field ID from your Google Form
            'phoneFieldId': 'entry.75719352', // Replace with actual field ID from your Google Form
            'emailFieldId': 'entry.1334512619', // Replace with actual field ID from your Google Form
            'companyFieldId': 'entry.483036053', // Replace with actual field ID from your Google Form
            'titleFieldId': 'entry.253197169', // Replace with actual field ID from your Google Form
            'cityFieldId': 'entry.2132475902', // Replace with actual field ID from your Google Form
            'stateFieldId': 'entry.474494225', // Replace with actual field ID from your Google Form
            'countryFieldId': 'entry.472727457', // Replace with actual field ID from your Google Form
            'zipFieldId': 'entry.901234567' // Replace with actual field ID from your Google Form
        };

        document.querySelectorAll('script[type="IN/Form2"]').forEach(script => {
            Object.keys(fieldMapping).forEach(key => {
                const fieldId = script.getAttribute(`data-field-${key}`);
                if (fieldId) {
                    const iframe = document.getElementById('googleFormFrame');
                    iframe.onload = function () {
                        const iframeDocument = iframe.contentDocument || iframe.contentWindow.document;
                        const input = iframeDocument.querySelector(`input[name="${fieldMapping[key]}"]`);
                        if (input) {
                            input.id = fieldId;  // Set the ID of the input field inside the iframe to match LinkedIn AutoFill requirements
                        }
                    };
                }
            });
        });
    </script>
</body>
</html>
